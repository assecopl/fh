<ng-container *ngIf="hint; else combo">
  <span
    ngbTooltip="{{ hint }}"
    [placement]="hintPlacement.toLowerCase()"
    [triggers]="hintTrigger.toLowerCase()"
  >
    <ng-container *ngTemplateOutlet="combo"></ng-container>
  </span>
</ng-container>
<h3>{{dicTitle}}</h3>
<ng-template #combo>
  <div fhng-input-label
       class="combo-lookup"
       [inputId]="id"
       [label]="label"
       [labelPosition]="labelPosition"
       [labelSize]="labelSize"
       [hint]="hint"
       [hintTrigger]="hintTrigger"
       [hintType]="hintType"
       [hintPlacement]="hintPlacement"
       [hintTitle]="hintTitle"
  >
    <div fhng-input-group
         ngbDropdown #myDrop="ngbDropdown"
         container="body"
         display="dynamic"
         placement="bottom-left"
         [iconText]="iconText"
         [class.fh-disabled]="disabled"
         [icon]="icon"
         [iconAlignment]="iconAlignment"
         [required]="required"
         (onClick)="onSwitchSearchModeEvent(myDrop)"
    >
      <input
        ngbDropdownAnchor
        class="fc inputText form-control {{setPresentationStyle()}}"
        #focusElement
        [id]="id"
        [disabled]="disabled"
        [type]="inputType"
        [name]="name"
        [placeholder]="placeholder"
        [attr.aria-label]="ariaLabel"
        [required]="required"
        [ngbTooltip]="getHintTooltip()"
        [ngbPopover]="getHintPopover()"
        [popoverTitle]="hintTitle"
        [placement]="hintPlacement.toLowerCase()"
        [triggers]="hintTrigger.toLowerCase()"
        [availabilityInput]="availability"
        [(ngModel)]="rawValue"
        (input)="onInputEvent($event, myDrop)"
        (blur)="onBlurEvent()"
      />

      <div ngbDropdownMenu class="combo-lookup__dropdown"> <!--*ngIf="tableIsVisible"-->
        <div class="combo-lookup__container">
          <div class="combo-lookup__navigation">
            <div class="combo-lookup__title" [innerHTML]="title | fhml"></div>
            <div class="combo-lookup__pagination">
              <button class="combo-lookup__nav-buttons" [disabled]="page<=1" (click)="onPreviousPageEvent()">
                <i class="fas fa-chevron-left"></i>
              </button>
              {{ page }} of {{ pagesCount }}
              <button class="combo-lookup__nav-buttons" [disabled]="page>=pagesCount" (click)="onNextPageEvent()">
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
            <div  class="combo-lookup__closebox">
              <button class="combo-lookup__nav-buttons" (click)="onCancelSearch(myDrop)">
                <i class="fas fa-times"></i>
                <span class="sr-only">{{ 'close' | i18n }}</span>
              </button>
            </div>
          </div>
          <table class="table combo-lookup__table">
          <thead>
            <tr>
              <th *ngFor="let c of columns">{{ c.title }}</th>
            </tr>
          </thead>
          <tbody>
            <tr class="combo-lookup__row" *ngFor="let r of rows;let i = index;" (click)="onSelectedEvent(i, myDrop)">
              <td *ngFor="let c of columns"> {{ r[c.field] }}</td>
            </tr>
          </tbody>
        </table>
        </div>
      </div>
      <button
        *ngIf="!disabled"
        class="clear-button"
        (click)="onClearEvent(myDrop)"
      >x</button>
    </div>
  </div>
</ng-template>
<ng-container *ngIf="configuration.debug">
  <fh-component-debugger/>
</ng-container>
