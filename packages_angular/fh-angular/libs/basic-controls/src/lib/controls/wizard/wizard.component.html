
<ul *ngIf="!isSubWizard"
  class="nav nav-tabs nav-pills nav-wizard wizard-tabs"
  [availabilityHtmlElement]="availability"
>
  <ng-container  *ngFor="let tab of childFhngComponents; let i = index">

    <li class="nav-item"  [class.subwizard]="subWizards.get(i)" [class.d-none]="tab.availability != 3 && tab.availability != 4">
      <ng-container *ngIf="subWizards.get(i) && activeTabIndex == i" >
        <svg class="pie" height="20" width="20" viewBox="0 0 20 20" style="width: 100%; height: 52px; z-index: 1; position: absolute; top: 0px; left: 0px; z-index: 1;">
          <circle r="5" cx="10" cy="10" fill="transparent"
                  transform="rotate(-90, 10, 10)"
                  [attr.stroke]="((subWizards.get(i).activeTabIndex) / subWizards.get(i).childFhngComponents.length) < 1 ? 'var(--color-warning)' : 'lightgray'"
                  [attr.stroke-width]="10"
                  [attr.stroke-dasharray]="((((subWizards.get(i).activeTabIndex + 1) / subWizards.get(i).childFhngComponents.length)* 100) * 31.42 / 100)+'px 31.42px'" />
        </svg>
      </ng-container>
      <a
        *ngIf="tab.availability == 3 || tab.availability == 4"
        tabindex="0"
        class="nav-link"
        data-toggle="tab"
        role="tab"
        [class.bg-used]="i < activeTabIndex"
        [attr.aria-selected]="tab.selected"
        [attr.data-tab-id]="tab.id"
        [ngClass]="{active: tab.selected}"
        (keydown.enter)="selectTab(tab, $event)"
        (click)="selectTab(tab, $event)"
        [innerHtml]="i+1"
        >
      </a>

      <span class="nav-link__label" [innerHtml]="tab.label | fhml"></span>
    </li>
  </ng-container>
</ul>

<div class="tab-content row ">
  <ng-container *ngFor="let tab of subelements;let i = index;">
    <fhng-tab [data]="tab" [tabIdx]="i"/>
  </ng-container>
</div>

<ng-container *ngIf="configuration.debug">
  <fh-component-debugger/>
</ng-container>
