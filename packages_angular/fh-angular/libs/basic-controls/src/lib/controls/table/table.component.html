<label
  class="col-form-label"
  [id]="innerId + '_label'"
  [for]="innerId"
  *ngIf="label">
  {{ label }}
</label>
<div [availabilityHtmlElement]="availability" [availabilityElementRef]="elementRef"
  #scrollable
  class="{{styleClasses}}"
  [attr.aria-labelledby]="innerId + '_label'"
  [hasHeight]="height"
  [style.height]="height"
  [style.overflow-y]="horizontalScrolling?'auto':false">
  <table
    tabindex="0"
    class="fc table {{fixedHeader ? 'fixedHeader': ''}} {{tableStripes !='hide'?'table-striped':''}}"
    [id]="innerId"
    [style.table-layout]="horizontalScrolling?'initial':'fixed'"
  >
    <!--  Simple HTEAD - one row-->
    <!--  <ng-content select="thead"></ng-content>-->
    <thead #tableHeading>
    <tr class="table-heading">
      <th *ngIf="selectionCheckboxes" [style.width]="'60px'">
    <span class="custom-control custom-checkbox" *ngIf="selectAllChceckbox">
      <input [id]="id+'selectAll'"
             (click)="toggleSelectAll($event)"
             [attr.aria-label]="'fh.table.paged.arial.label' | i18n"
             class="custom-control-input"
             type="checkbox"
             [checked]="checkAllValue"
      />
      <label class="hidden custom-control-label ml-3" [for]="id+'selectAll'">
        <span class="d-none">{{'fh.table.paged.arial.label' | i18n}}</span>
      </label>
    </span>
      </th>

      <ng-container *ngFor="let column of columns">

        <th fhng-table-column [availabilityHtmlElement]="col.availability" #col [horizontalAlign]="horizontalAlign" [data]="column" [formId]="formId">
          &nbsp;{{column.id}}</th>
      </ng-container>
    </tr>

    </thead>
    <!--  <ng-content select="tbody"></ng-content>-->
    <tbody>
    <ng-container *ngFor="let tr of tableData;let i = index;">
      <tr fhng-table-row [data]="tr" [formId]="formId" [rowIndex]="i" [availabilityHtmlElement]="row.availability" #row [horizontalAlign]="horizontalAlign"
          [highlight]="rawValue.includes(i)"></tr>
    </ng-container>


    <ng-container *ngIf="minRows > tableData?.length">
      <tr
        tabindex="0"
        *ngFor="
        let i of [].constructor(minRows - (tableData ? tableData?.length : 0))
      "
      >
        <td *ngFor="let a of [].constructor(columns?.length)">&nbsp;</td>
      </tr>
    </ng-container>
    </tbody>

    <ng-container *ngIf="footer">
      <tfoot>
      <tr>
        <td [colSpan]="columns.length + (selectionCheckboxes? 1 : 0)">
          <div class="fc footer card-footer  {{footer.id}}">
            <div class="row fc wrapper">
              <ng-container [fhDynamicComponents]="footer.subelements"
                            [fhNonVisualSubcomponents]="footer.nonVisualComponents || []"/>
            </div>
          </div>
        </td>
      </tr>
      </tfoot>
    </ng-container>

  </table>
</div>
<div fhng-button
  *ngIf="csvExport"
  [id]="'csvBtn'"
  bootstrapStyle="link"
  width="md-1"
  horizontalAlign="RIGHT"
  (click)="onExportCsv()"
>{{'fh.table.paged.csv.label' | i18n}}
</div>

<ng-container *ngIf="configuration.debug">
  <fh-component-debugger/>
</ng-container>
