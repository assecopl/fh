<ng-container *ngIf="hint; else dropdown">
  <span
    ngbTooltip="{{ hint }}"
    [placement]="hintPlacement.toLowerCase()"
    [triggers]="hintTrigger.toLowerCase()"
  >
    <ng-container *ngTemplateOutlet="dropdown"></ng-container>
  </span>
</ng-container>

<ng-template #dropdown>
  <ng-container *ngIf="!parentButtonGroupComponent; else buttonDropdownElements">
      <ng-container *ngTemplateOutlet="dropdownElements"></ng-container>
  </ng-container>
</ng-template>

<ng-template #dropdownElements>
  <div ngbDropdown class="d-grid" display="dynamic">
    <button
      class="fc button btn btn-{{ bootstrapStyle }} btn-block dropdown-toggle {{styleClasses}}"
      ngbDropdownToggle
      type="button"
      data-toggle="dropdown"
      aria-haspopup="true"
      aria-expanded="false"
      [id]="id"
      [availabilityHtmlElement]="availability"
    >
      <ng-container *ngTemplateOutlet="contentTemplate"></ng-container>
    </button>
    <div id="{{ id }}ngbDropdownMenu" ngbDropdownMenu >
      <ng-container [fhDynamicComponents]="subelements" [fhNonVisualSubcomponents]="nonVisualComponents"></ng-container>
    </div>
  </div>
</ng-template>

<ng-template #buttonDropdownElements>
  <button
    class="fc button btn btn-{{ bootstrapStyle }} btn-block dropdown-toggle"
    ngbDropdownToggle
    type="button"
    data-toggle="dropdown"
    aria-haspopup="true"
    aria-expanded="false"
    [id]="id"
    [availabilityHtmlElement]="availability"
  >
    <ng-container *ngTemplateOutlet="contentTemplate"></ng-container>
  </button>
  <div id="{{ id }}ngbDropdownMenu" ngbDropdownMenu>
    <ng-container [fhDynamicComponents]="subelements" [fhNonVisualSubcomponents]="nonVisualComponents"></ng-container>
  </div>
</ng-template>

<ng-template #contentTemplate>
  <span *ngIf="label" [innerHTML]="label | fhml"></span>
</ng-template>
